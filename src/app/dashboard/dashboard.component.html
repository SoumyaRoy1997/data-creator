<div class="container" *ngIf="!showForm">
    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8" style="margin-top: 15%;">
            <ng-container>
            <form [formGroup]="dashboardForm">
                <mat-form-field class="example-full-width" appearance="outline" style="width: 80%;">
                    <mat-label>Enter the Data Generation Instance Name</mat-label>
                    <input matInput placeholder="instanceName" formControlName="instanceName">
                </mat-form-field>
                &nbsp;&nbsp;
                <button mat-raised-button color="primary" (click)="createData()"
                    style="border-radius: 12px;height: 50px;">Create</button>
            </form>
        </ng-container>
            <div *ngIf="inputType === 'Form Input' && step == 1" hideToggle>
                Instruction File
                Provide the preliminary Inputs
                <mat-icon>account_circle</mat-icon>
                <app-instruction-primary-form [inputType]="inputType" [instructionForm]="instructionForm" [step]="'1'"
                    [instanceName]="this.instanceName" (activate)="onActivate($event)" [instruction]="instruction">
                </app-instruction-primary-form>
                <mat-action-row>
                    <button mat-button color="warn" (click)="prevStep()">Previous</button>
                    <button type="submit" mat-button color="primary" (click)="nextStep()">Next</button>
                </mat-action-row>
            </div>
            <div *ngIf="inputType === 'Form Input' && step == 2" hideToggle>
                Instruction File
                Provide the Instruction File
                <mat-icon>account_circle</mat-icon>
                <app-instruction-form [inputType]="inputType" [instructionForm]="instructionForm"
                    [sampleFileUploadFlag]="sampleFileUploadFlag" [step]="'2'" [instanceName]="this.instanceName"
                    [fileUploaded]="fileUploaded" (uploadFileEvent)="uploadFileSetStep($event)"
                    [actualInputType]="actualInputType" [addVariableFlag]="addVariableFlag">
                </app-instruction-form>
                <mat-action-row>
                    <button mat-button color="success" (click)="onSampleFileUpload() && sampleFileUploadFlag=true"
                        class="btn btn-success" *ngIf="instructionForm.get('isFileLocal').value">Upload Sample
                        File</button>
                    <button mat-button color="warn" (click)="prevStep()">Previous</button>
                    <button type="submit" mat-button color="danger" (click)="addVariableFields()"
                        [disabled]="!this.instructionForm.valid">{{variableFieldButton}}</button>
                    <button type="submit" mat-button color="primary" (click)="nextStep()"
                        [disabled]="!this.instructionForm.valid">Next</button>
                </mat-action-row>
            </div>
            <ng-container *ngIf="datasourceLoaded">
                <h5 style="font-style: italic;font-weight: bold;">Recent Data Creation</h5>
                <span *ngFor="let detail of scrapedDashboardList; let i = index"><button type="button"
                        class="btn btn-outline-primary" (click)="showInstruction(detail.instructionfile,detail.dataGenInstanceName,detail.executionDate)">{{detail.dataGenInstanceName}}</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span><button type="button" class="btn btn-outline-info" [routerLink]="['/home/user-profile']">Show All..</button></span>
            </ng-container>
        </div>
        <div class="col-md-2"></div>
    </div>
</div>

<div class="container" *ngIf="showForm" style="margin-top: 1%;">
    <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-8">
            <ng-container>
                <app-instruction-form [inputType]="inputType" [instructionForm]="instructionForm"
                            [sampleFileUploadFlag]="sampleFileUploadFlag" [step]="step" [instruction]="instruction"
                            [variableRecord]="variableRecord" [variableFieldButton]="variableFieldButton"
                            [addVariableFlag]="addVariableFlag" [instanceName]="instanceName"
                            [fileLocationFlag]="true" [formHeading]="formHeading" [currentTestName]="currentTestName" [currentTestTime]="currentTestTime" (showFormEvent)="createData()"></app-instruction-form>
            </ng-container>
        </div>
        <div class="col-md-2"></div>
    </div>
</div>